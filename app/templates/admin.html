{% extends 'layout.html' %}

{% block content %}

<style>
	ul {
		max-height: 80vh;
		overflow: scroll;
	}

	li {
		margin: 5px;
		display: flex;
		justify-content: center;
	}
</style>

<div class="mainContent" style="background-position: bottom right;">
	<h1 class="sub-headline" style="font-size: 40px;">Playlist: {{playlist.playlistName}}</h1>
	<div class="row">
		<div class="col-md-6">
			<div class="innerContent">
                <h2 class="searchResultHeading">Search</h2>
				<form onsubmit="searchSong(this); return false;">
					<div class="input-group-prepend">
						<label>Search by</label>
					</div>
					<select class="custom-select" id="searchOption" name="searchOption">
						<option value="artist" selected>Artist</option>
						<option value="track">Track</option>
					</select>
					<br /><br />
					<input id="searchInput" type="text" name="searchInput" placeholder="Enter Search" class="inputGuess" />
					<br><br>
					<div class="d-flex justify-content-end">
						<div class="btn-group btn-group-toggle" data-toggle="buttons">
							<label class="btn radioToggle active">
								<input type="radio" name="options" id="option1" checked> Artists
							</label>
							<label class="btn radioToggle">
								<input type="radio" name="options" id="option2"> Songs
							</label>
						</div>
					</div>
					<button type="button" onclick="searchSong(this)" id="submitSongSearch" class="inputSubmit">Search</button>
				</form>
			</div>
			<div class="innerContent">
				<h2 class="searchResultHeading">Search Results</h2>
				<p class="searchResultDescription" id="SRDescription"></p>
				<ul id="results"></ul>
			</div>
		</div>
		<div class="col-md-6">
			<div class="innerContent">
				<h2 class="searchResultHeading">Currently In The List</h2>
				<div id="forloop">
					{% for song in songs %}
					<div id="{{song['spotifySongID']}}">
						<div class="avatar-root">
							<img class="avatar" src="{{song['prevIMG']}}" alt="" />
						</div>
						<p>{{song["songName"]}}</p>
						<p>{{song["artist"]}}</p>
						<audio controls>
							<source src="{{song['prevURL']}}" />
							Your browser does not support the audio element.
						</audio>
						<a id="{{song['spotifySongID']}}" onclick=" deleteSong(this,'{{playlist.id}}')"
							><i class="fa fa-trash" aria-hidden="true"></i
						></a>
					</div>

					{% endfor %}
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	sessionStorage.setItem('playlistId', '{{playlist.id}}');
	console.log('SESION SAVED');
</script>

{% endblock %}
