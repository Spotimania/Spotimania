{% extends 'layout.html' %} {% block content %}



<div class="d-flex justify-content-between align-items-center">
	<h1 id="headerTitle" class="sub-headline" style="font-size: 40px; padding-left: 0; color: black;">
		{% if current_user.is_admin() %}
		List of Playlists/Quizzes
		{% else %}
		List of Quizzes
		{% endif %}
	</h1>
	<div id="headerButtons">
		{% if current_user.is_admin() %}
		<!-- Button trigger modal -->
		<button class="btn inputSubmit" data-toggle="modal" data-target="#playlistModal">
			Create New Playlist
		</button>
		{% endif %}
	</div>
</div>


<!-- Modal -->
<div class="modal fade" id="playlistModal" tabindex="-1" role="dialog">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="ModalLabel">Create New Playlist</h5>
				<button type="button" class="close" data-dismiss="modal">
					<span>&times;</span>
				</button>
			</div>
			<form name="login" method="POST">
			{{form.hidden_tag()}}
			<div class="modal-body">


				<div class="form-group">
					{{form.playlistName.label(class="inputLabel")}}<br />
					{{form.playlistName(size=30, class="inputGuess")}} <br />
					{% for error in form.playlistName.errors%}
					<span class="error-message">{{error}}</span>
					{% endfor %}
				</div>

			</div>
			<div class="modal-footer">
				{{form.submit(class="inputSubmit")}}
			</div>
			</form>
		</div>
	</div>
</div>
<div class="table table-hover">
	<table style="width: 100%; font-size: 1.5rem">
		<tr>
			{% if current_user.is_admin() %}
			<th>Playlist Id</th>
			{% endif %}
			<th>Date Created</th>
			<th>Date Last Modified</th>
			<th>Playlist Name</th>
			<th>Actions</th>
			<th></th>
		</tr>
		<tr>
			{% for playlist in playlists %}
		</tr>
		<tr>
			{% if current_user.is_admin() %}
			<td>{{ playlist.id }}</td>
			{% endif %}
			<td>{{ playlist.date_created|datetimeformat  }}</td>
			<td>{{ playlist.date_modified|datetimeformat }}</td>
			<td>{{ playlist.playlistName }}</td>
			<td>
				{% if current_user.is_admin() %}
				<a class="btn" href="{{ url_for('playlist',playlistId=playlist.id) }}"><i class="fa-2x fas fa-edit"></i></a>
				{% endif %}

				<a class="btn" href="{{ url_for('quiz',playlistId=playlist.id) }}"><i class="fa-2x fas fa-gamepad"></i></a>
			</td>
		</tr>
		{% endfor %}
	</table>
</div>

{% endblock %}