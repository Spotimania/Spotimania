{% extends 'layout.html' %} {% block content %}

<div class="d-flex justify-content-between">
<h1 class="table-text">List of Playlists</h1>
{% if current_user.is_admin() %}
<!-- Button trigger modal -->
<button type="button" class="btn playlist-btn" style="border-radius: initial;"data-toggle="modal" data-target="#playlistModal">
	Create New Playlist
</button>
{% endif %}
</div>

<!-- Modal -->
<div class="modal fade" id="playlistModal" tabindex="-1" role="dialog">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="ModalLabel">Create New Playlist</h5>
				<button type="button" class="close" data-dismiss="modal">
					<span>&times;</span>
				</button>
			</div>
			<form name="login" action="" method="POST">
			{{form.hidden_tag()}}
			<div class="modal-body">


				<div class="form-group">
					{{form.playlistName.label(class="inputLabel")}}<br />
					{{form.playlistName(size=30, class="inputGuess")}} <br />
					{% for error in form.playlistName.errors%}
					<span class="error-message">{{error}}</span>
					{% endfor %}
				</div>

			</div>
			<div class="modal-footer">
				{{form.submit(class="inputSubmit")}}
			</div>
			</form>
		</div>
	</div>
</div>
<div class="table table-hover">
	<table style="width: 100%; font-size: 1.5rem">
		<tr>
			<th>Playlist Id</th>
			<th>Playlist Name</th>
			<th>Date Created</th>
			<th>Date Last Modified</th>
			<th></th>
		</tr>
		<tr>
			{% for playlist in playlists %}
		</tr>
		<tr>
			<td>{{ playlist.id }}</td>
			<td>{{ playlist.playlistName }}</td>
			<td>{{ playlist.date_created|datetimeformat  }}</td>
			<td>{{ playlist.date_modified|datetimeformat }}</td>
			<td>
				{% if current_user.is_admin() %}
				<a class="btn" href="{{ url_for('playlist',playlistId=playlist.id) }}"><i class="fa-2x fas fa-edit"></i></a>
				{% endif %}

				<a class="btn" href="{{ url_for('quiz',playlistId=playlist.id) }}"><i class="fa-2x fas fa-gamepad"></i></a>
			</td>
		</tr>
		{% endfor %}
	</table>
</div>

{% endblock %}